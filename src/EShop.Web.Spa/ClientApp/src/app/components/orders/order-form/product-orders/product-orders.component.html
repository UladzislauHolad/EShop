<!-- <div class="ui buttons">
  <a class="ui positive button" routerLink="products/new">Create new</a>
</div>
<table *ngIf="productOrders" class="ui celled stripped table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Price</th>
      <th>Count</th>
      <th>Sum</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let po of productOrders">
      <td>{{po.name}}</td>
      <td>{{po.price}}</td>
      <td>{{po.orderCount}}</td>
      <td>
        <input type="number" min="0" [attr.max]="po.maxCount" name="count" [(ngModel)]="po.orderCount" [disabled]="!po.isEditing" aria-readonly="true" (onStepUp)="console.log(1)">
      </td>
      <td>{{po.price * po.orderCount}}</td>
      <td class="center aligned two wide">
        <div class="ui small basic icon buttons">
          <button *ngIf="po.isEditing" (click)="save(po)" class="ui button"><i class="save icon"></i></button>
          <button *ngIf="!po.isEditing" (click)="edit(po)" class="ui button"><i class="pencil alternate icon"></i></button>
          <button class="ui button" (click)="delete(po)"><i class="trash icon"></i></button>
        </div>
      </td>
    </tr>
  </tbody>
</table> -->
<a mat-raised-button routerLink color="primary" routerLink="products/new">Add product</a>

<table mat-table [dataSource]="productOrders" class="mat-elevation-z8">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Product name </th>
    <td mat-cell *matCellDef="let po"> {{po.name}} </td>
    <td mat-footer-cell *matFooterCellDef> Total </td>
  </ng-container>

  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef> Product price </th>
    <td mat-cell *matCellDef="let po"> {{po.price}} </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="count">
    <th mat-header-cell *matHeaderCellDef> Product count </th>

    <td mat-cell *matCellDef="let po">
      <ng-container *ngIf="!po.isEditing">
        {{po.orderCount}}
      </ng-container>
      <mat-form-field class="input-full-width" *ngIf="po.isEditing">
        <input matInput #orderCount type="number" min="1" [max]="po.maxCount" step="1" [(ngModel)]="po.orderCount">
      </mat-form-field>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <ng-container matColumnDef="total">
    <th mat-header-cell *matHeaderCellDef> Total </th>
    <td mat-cell *matCellDef="let po"> {{po.orderCount * po.price | currency}} </td>
    <td mat-footer-cell *matFooterCellDef>{{getTotalCost() | currency}}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef></th>
    <td mat-cell *matCellDef="let po">
      <div *ngIf="!po.isEditing" class="actions">
        <button class="hoverable" mat-icon-button matTooltip="Edit" (click)="edit(po)">
          <mat-icon>edit</mat-icon>
        </button>
        <button class="hoverable" mat-icon-button matTooltip="Delete">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <div *ngIf="po.isEditing" class="actions">
        <button class="hoverable" mat-icon-button matTooltip="Save" (click)="save(po)">
          <mat-icon>save</mat-icon>
        </button>
        <button class="hoverable" mat-icon-button matTooltip="Cancel" (click)="cancel(po)">
          <mat-icon>clear</mat-icon>
        </button>
      </div>
    </td>
    <td mat-footer-cell *matFooterCellDef></td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>